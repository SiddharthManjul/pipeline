### Variables
@baseUrl = http://localhost:3001/api
@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4YzI4YzA3ZS04ODJhLTQ5M2ItOTU2OS01ZjQwNWI4MzdhMzMiLCJlbWFpbCI6ImZvdW5kZXJAdGVzdC5jb20iLCJyb2xlIjoiRk9VTkRFUiIsImlhdCI6MTc2NjAwNTMwOCwiZXhwIjoxNzY4NTk3MzA4fQ.gCdnvxbvh8EgEw0CFsaJrVNHrnpp0Uo6KM5CXdCuCzw
@refreshToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4YzI4YzA3ZS04ODJhLTQ5M2ItOTU2OS01ZjQwNWI4MzdhMzMiLCJlbWFpbCI6ImZvdW5kZXJAdGVzdC5jb20iLCJyb2xlIjoiRk9VTkRFUiIsImlhdCI6MTc2NjAwNTMwOCwiZXhwIjoxNzgxNTU3MzA4fQ.2KxwY46yB25iVYbHtfLdDfSnahimMH7n_mHSeJh4Urk

###############################################
# 1. Health Check (Public)
###############################################

### Get API health status
GET {{baseUrl}}/health

###############################################
# 2. User Registration (Public)
###############################################

### Register a new developer
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "developer2@test.com",
  "password": "Test123456",
  "role": "DEVELOPER"
}

### Register a new founder
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "founder@test.com",
  "password": "Test12345",
  "role": "FOUNDER"
}

###############################################
# 3. User Login (Public)
###############################################

### Login developer
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "developer@test.com",
  "password": "Test12345"
}

### Login founder
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "founder@test.com",
  "password": "Test12345"
}

###############################################
# 4. Get Current User (Protected)
###############################################

### Get current user profile
# NOTE: Replace {{accessToken}} with actual token from login response
GET {{baseUrl}}/auth/me
Authorization: Bearer {{accessToken}}

###############################################
# 5. Refresh Token (Public)
###############################################

### Refresh access token
# NOTE: Replace {{refreshToken}} with actual refresh token from login
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

###############################################
# 6. GitHub OAuth (Public)
###############################################

### Initiate GitHub OAuth
# NOTE: Open this in browser, not REST Client
GET {{baseUrl}}/auth/github

###############################################
# Test Scenarios
###############################################

### Scenario 1: Complete Registration Flow
# 1. Register user (run above)
# 2. Copy accessToken from response
# 3. Paste it in @accessToken variable at top
# 4. Run "Get current user profile"

### Scenario 2: Login Flow
# 1. Login (run above)
# 2. Copy accessToken from response
# 3. Update @accessToken variable
# 4. Test protected endpoints

### Scenario 3: Token Refresh
# 1. Login and get refreshToken
# 2. Update @refreshToken variable
# 3. Run refresh endpoint
# 4. Get new accessToken

###############################################
# 7. Profile Management (Protected)
###############################################

### Get my full profile
GET {{baseUrl}}/profile/me
Authorization: Bearer {{accessToken}}

### Create developer profile
POST {{baseUrl}}/profile/me
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "username": "johndoe",
  "fullName": "John Doe",
  "contactNumber": "+1234567890",
  "github": "https://github.com/johndoe",
  "twitter": "https://twitter.com/johndoe",
  "linkedin": "https://linkedin.com/in/johndoe",
  "bio": "Full-stack Web3 developer with 5 years of experience",
  "location": "San Francisco, CA",
  "availability": "AVAILABLE"
}

### Create founder profile
POST {{baseUrl}}/profile/me
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "companyName": "Web3 Startup Inc",
  "position": "CEO & Founder",
  "companyWebsite": "https://web3startup.com",
  "bio": "Building the future of decentralized applications",
  "linkedinUrl": "https://linkedin.com/in/founder"
}

### Update developer profile
PATCH {{baseUrl}}/profile/me
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "bio": "Updated bio: Experienced Solidity developer",
  "availability": "BUSY",
  "location": "Remote"
}

###############################################
# 8. Project Management (Protected - Developers Only)
###############################################

### Get my projects
GET {{baseUrl}}/profile/me/projects
Authorization: Bearer {{accessToken}}

### Create a new project
POST {{baseUrl}}/profile/me/projects
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "name": "DeFi Trading Platform",
  "description": "A decentralized exchange built on Ethereum with advanced trading features and liquidity pools",
  "livePlatformUrl": "https://defi-platform.example.com",
  "repositoryUrl": "https://github.com/johndoe/defi-platform",
  "teammateNames": ["Alice Smith", "Bob Johnson"],
  "technologies": ["Solidity", "React", "TypeScript", "Hardhat", "Ethers.js"]
}

### Update a project
# Replace {projectId} with actual project ID
PATCH {{baseUrl}}/profile/me/projects/{projectId}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "description": "Updated description with new features",
  "technologies": ["Solidity", "React", "TypeScript", "Hardhat", "Ethers.js", "The Graph"]
}

### Delete a project
# Replace {projectId} with actual project ID
DELETE {{baseUrl}}/profile/me/projects/{projectId}
Authorization: Bearer {{accessToken}}

###############################################
# 9. Browse Developers (Public)
###############################################

### Get all developers
GET {{baseUrl}}/developers

### Get developers with filters
GET {{baseUrl}}/developers?tier=TIER_1&availability=AVAILABLE&limit=10

### Search developers
GET {{baseUrl}}/developers?search=blockchain&minReputation=50

### Get developers by location
GET {{baseUrl}}/developers?location=San Francisco&orderBy=reputation

### Get developer by ID
# Replace {developerId} with actual developer ID
GET {{baseUrl}}/developers/{developerId}

### Get developer's projects
# Replace {developerId} with actual developer ID
GET {{baseUrl}}/developers/{developerId}/projects

### Get developer's reputation
# Replace {developerId} with actual developer ID
GET {{baseUrl}}/developers/{developerId}/reputation

###############################################
# 10. Projects Directory (Public)
###############################################

### Get all projects
GET {{baseUrl}}/projects

### Get projects with filters
GET {{baseUrl}}/projects?technologies=React,TypeScript&limit=10

### Get verified projects only
GET {{baseUrl}}/projects?isVerified=true

### Search projects
GET {{baseUrl}}/projects?search=blockchain

### Get project by ID
# Replace {projectId} with actual project ID
GET {{baseUrl}}/projects/{projectId}

###############################################
# 11. GitHub Integration (Mixed - Public & Protected)
###############################################

### Get GitHub profile by username (Public)
GET {{baseUrl}}/github/profile/vitalik

### Get GitHub profile statistics (Public)
GET {{baseUrl}}/github/stats/vitalik

### Get GitHub repositories (Public)
GET {{baseUrl}}/github/repositories/vitalik

### Validate GitHub repository URL (Public)
POST {{baseUrl}}/github/validate-repository
Content-Type: application/json

{
  "repositoryUrl": "https://github.com/ethereum/go-ethereum"
}

### Sync my GitHub data (Protected - Developers only)
POST {{baseUrl}}/github/sync/me
Authorization: Bearer {{accessToken}}

### Sync GitHub data by username (Protected - Developers only)
POST {{baseUrl}}/github/sync/username
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "githubUsername": "vitalik"
}

### Sync GitHub data for specific developer (Protected)
# Replace {developerId} with actual developer ID
POST {{baseUrl}}/github/sync/{developerId}
Authorization: Bearer {{accessToken}}

###############################################
# 12. Reputation System (Mixed - Public & Protected)
###############################################

### Calculate my reputation (Protected - Developers only)
POST {{baseUrl}}/reputation/calculate/me
Authorization: Bearer {{accessToken}}

### Calculate reputation for specific developer (Protected)
# Replace {developerId} with actual developer ID
POST {{baseUrl}}/reputation/calculate/{developerId}
Authorization: Bearer {{accessToken}}

### Get reputation score for a developer (Public)
# Replace {developerId} with actual developer ID
GET {{baseUrl}}/reputation/{developerId}

### Get reputation history for a developer (Public)
# Replace {developerId} with actual developer ID
GET {{baseUrl}}/reputation/{developerId}/history

### Get my reputation score (Protected - Developers only)
GET {{baseUrl}}/reputation/me/score
Authorization: Bearer {{accessToken}}

### Get my reputation history (Protected - Developers only)
GET {{baseUrl}}/reputation/me/history
Authorization: Bearer {{accessToken}}

### Recalculate all developer reputations (Admin only)
POST {{baseUrl}}/reputation/recalculate-all
Authorization: Bearer {{accessToken}}

###############################################
# Complete Workflow Example
###############################################

### Workflow: Developer Registration to Project Creation
# 1. Register as developer
# 2. Login and get accessToken
# 3. Create developer profile
# 4. Create first project
# 5. View profile
# 6. Browse other developers (public)

